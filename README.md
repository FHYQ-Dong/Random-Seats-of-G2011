![icon](https://user-images.githubusercontent.com/87631978/158313042-f044767c-878c-454a-8d85-1bd7b63bb52c.png)

   # Random-Seats-of-G*2011
   
   **Copyright (c) 2022 董皓彧**
   
   **说明：`v3.1` 与 `v3.2` 的生命周期已经结束，不再维护，请使用 `v3.3`.**

   ## 使用说明

   ### 1.序言

   - 本程序为QHFZ G2011 方便地随机抽取座位及按照固定方式轮换座位设计，可以应用于其他大部分场景.
   - 可执行文件可以在 Windows10 及更高版本运行，源码运行需 Python3.5 以上环境以及 Pygame、PyQt5 中的部分或全部第三方包.

   ### 2.加载界面

   - 等待加载进度条加载完成，出现 ```进入``` 按钮后点击进入即可.

   ![欢迎界面_1](https://user-images.githubusercontent.com/87631978/158314009-095c6946-3b58-49b6-b74b-8a288c6f0fde.png)

   ![欢迎界面_2](https://user-images.githubusercontent.com/87631978/158314012-97b5bfb3-12d1-43d8-924a-3ac6b78b91ad.png)

   ### 3.选择模式

   - 点击相应按钮选择 ```导入``` , ```新建``` 及 ```最近``` 模式.
   - 详情转到 ```4.导入模式``` , ```5.新建模式``` 及 ```6.最近模式``` 模块.

   ![选择模式](https://user-images.githubusercontent.com/87631978/158314047-1d10bd11-c361-45fc-a426-04c2e06ccdc1.png)

   ### 4.导入模式

   - **应当导入一个后缀名为 ```.rsd``` , 并以 ```utf-8``` 编码的文件.**
   - **```.rsd``` 格式文件可以通过 ```导出``` 获得.**

   ![导入](https://user-images.githubusercontent.com/87631978/158315007-b9554c9b-d8fe-4a50-848a-b9959d662e9f.png)

   - 导入后进入 ```配置/查看``` 界面，详情转到 ```7.配置/查看界面```  模块.

   ### 5.新建模式

   #### （1）选择行数、列数

   - 应当选择可以囊括所有座位的最小的矩形的长、宽（或宽、长）.

   ![新建模式_选择行数、列数](https://user-images.githubusercontent.com/87631978/158524757-29a05bed-3356-45c1-a716-52704d0db0fb.png)

   #### （2）选择空座位

   - 空座位指无人的座位，不参与随机排座位及座位的轮换.
   - 设计此功能主要考虑到部分情况下座位的形状不完全是规整的矩形.
   - **在相应的座位上单击，即可标记此处为空座位，再次点击取消标记.**

   ![新建模式_选择空座位](https://user-images.githubusercontent.com/87631978/158524182-d638999c-efce-402a-a72f-886075ebf4c7.png)
        

   #### （3）设置轮换规则

   - 考虑到部分情况下并不是每次都需要重新随机排列座位，可能需要在两次随机排列之间进行几次有规律地轮换座位，特设计本功能.
   - 第一次点击 ```轮换前``` 部分的座位，会将点击的座位标记为 **```*```** ，再次点击即可选中一个矩形框内的座位，这个矩形框以两次点击为两个对角顶点，这些座位被用阿拉伯数字编号，**特别地，连续两次点击同一个位置即为选中这一个座位，**这一操作应当重复多次以标记所有的座位.
   - ```轮换后``` 部分的操作与 ```轮换前``` 相同， ```轮换后``` 与 ```轮换前``` 两部分中编号相同的座位即是同一个同学在轮换前、后的座位.

   ![新建模式_设置轮换规则_1](https://user-images.githubusercontent.com/87631978/158548297-c3cbc0c5-32dd-493a-b82e-5618eaa41edd.png)

   ![新建模式_设置轮换规则_2](https://user-images.githubusercontent.com/87631978/158548301-da77d874-9457-46a6-82aa-5e1c3212573d.png)

   ![新建模式_设置轮换规则_3](https://user-images.githubusercontent.com/87631978/158548684-53685e6c-505a-441a-b8e0-709e7cfac2be.png)

   ![新建模式_设置轮换规则_4](https://user-images.githubusercontent.com/87631978/158548688-88757ffa-fe94-4604-aee2-fc738356d580.png)

   #### （4）选择姓名文件

   - 选择一个包含待排座位同学的姓名的文件，或使用上一次的配置（点击 ```使用上次配置``` 按钮）.
   - **格式：使用 ```utf-8``` 格式编码，文件中每行一个姓名，姓名前、后不加空格，文件中无空行.**
   - 导入文件后可以点击 `````` 按钮查看导入的姓名，确认无误后点击 ```确定``` 按钮，随后程序检查人数与座位数是否一致，一致即进入下一步骤，不一致弹出提示，并需重新导入姓名文件.
   - ```姓名文件``` 样本：[name.txt](https://github.com/FHYQ-DHY/Random-Seats-of-G2011/files/8260293/name.txt).

   ![新建模式_选择姓名文件_1](https://user-images.githubusercontent.com/87631978/158553352-26a29dc5-b097-4ab1-bb9a-26391e277ccf.png)

   ![新建模式_选择姓名文件_2](https://user-images.githubusercontent.com/87631978/158553356-7e2e28cf-938c-4f1c-8e61-2a6769d2528e.png)

   ![新建模式_选择姓名文件_3](https://user-images.githubusercontent.com/87631978/158553666-327ed3f0-3521-4db5-bcb9-a97895ec198f.png)

   ![新建模式_选择姓名文件_4](https://user-images.githubusercontent.com/87631978/158553362-cf71c622-d3fc-4cee-9b72-8cde26616de3.png)

   #### （5）随机排列座位

   - 点击 ```开始``` 按钮即可开始随机排列座位，为增加悬疑感，每个座位显示之前有 ```0.3s``` 延迟.
   - 当全部座位排列完成后，程序会自动将此次排列结果保存为 ```最近一次```，同时可以操作 ```轮换```、```导出(.txt)```、```导出(.rsd)``` 及 ```确定``` 四个按钮.
   - 点击 ```轮换``` 按钮，可以按照设置的轮换规则进行一次座位轮换，然后程序会自动将此次排列结果保存为 ```最近一次```.
   - 点击 ```导出(.txt)``` 按钮，可以导出为 ```TXT文本文件```，格式见图.
   - 点击 ```导出(.rsd)``` 按钮，可以导出为 ```.rsd``` 文件，可以用于下次的导入（见 ```4.导入模式``` ）.
   - 点击 ```确定``` 按钮，可以退出程序.

   ![新建模式_随机排列座位_1](https://user-images.githubusercontent.com/87631978/158556467-aac140ad-6baf-4f5b-84a9-39aeaa3135ad.png)

   ![新建模式_随机排列座位_2](https://user-images.githubusercontent.com/87631978/158556475-1345bf56-b052-4df5-9ded-2b116474ebf8.png)

   ![新建模式_随机排列座位_3](https://user-images.githubusercontent.com/87631978/158556485-340a7ccc-0f98-4a67-a74e-75b28fc8603a.png)

   ![新建模式_随机排列座位_4](https://user-images.githubusercontent.com/87631978/158556493-987b53da-6dcd-4768-b5fe-4faaf0e4d943.png)

   ![新建模式_随机排列座位_5](https://user-images.githubusercontent.com/87631978/158556500-19898152-2cab-47e9-9c64-c1f744fc6dbc.png)

   ![新建模式_随机排列座位_6](https://user-images.githubusercontent.com/87631978/158556503-8acb8d1f-9754-44b4-bd63-2faa60ebdd8b.png)

   ### 6. 最近模式

   - 即导入程序自动保存的 ```最近一次```，然后进入 ```配置/查看``` 界面，详情转到 ```7.配置/查看界面```  模块.

   ### 7. 配置/查看界面

   - 共有 ```修改/查看配置```、```显示座位表``` 及 ```随机排座位``` 三个按钮.
   - 点击 ```修改/查看配置``` 按钮，可进入 ```5.新建模式``` 中，但与其不同的是，所有界面已经有导入的数据作为初始值，可供查看。**需要注意的是，若修改了某项配置，则此后界面中则不会出现初始值.**
   - 点击 ```显示座位表``` 按钮，可查看导入数据中的座位表，同时可以进行 ```轮换```、```导出(.txt)``` 及 ```导出(.rsd)``` 操作，详情见 ```5.新建模式 之 （5）随机排列座位```.
   - 点击 ```随机排座位``` 按钮，可直接进入 ```5.新建模式 之 （5）随机排列座位``` 界面，过程与其相同，但点击 ```确定``` 按钮后，不会退出程序，而会返回 ```修改/查看配置``` 界面.

   ![配置、查看界面](https://user-images.githubusercontent.com/87631978/158559183-5351e6f9-55a0-44a1-86ba-a7cba91e8afb.png)

   ## 更新日志

   ### RS v3.0.0 更新于 2022.1.21 22:32

   - 第一个完整版.

   ### RS v3.1 更新于 2022.1.25 12:03

   - 修复了一些已知问题.
   - 增加了随机排列后手动换座位的功能.

   ### RS v3.2 更新于 2022.2.26 19:50

   - 将所有 ```Tkinter``` 用 ```PyQt5``` 重写.
   - **部分电脑因分辨率和缩放原因可能出现窗口缩小的问题.**

   ### RS v3.3 更新于 2022.3.14 16:24

   - 全部用  ```PyQt5``` 重写.
   - 修改了部分路径表示方法，使之能适用于 ```Linux``` 和 ```Mac``` 系统.
